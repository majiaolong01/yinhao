(this["webpackJsonpwebsocket-test"]=this["webpackJsonpwebsocket-test"]||[]).push([[10],{448:function(e,t,n){"use strict";n(447);var a=n(449),r=n.n(a),o=n(478),c=n.n(o);c.a.defaults.withCredentials=!0,c.a.interceptors.request.use((function(e){var t=sessionStorage.getItem("accessToken");return t&&(e.headers.common.access_token=t),e}),(function(e){return Promise.reject(e)})),c.a.interceptors.response.use((function(e){return 401===e.data.code&&r.a.error(e.data.message,2,(function(){window.location.replace("/")})),e.data}),(function(e){return Promise.reject(e)})),t.a={getPublicKey:function(){return c.a.get("/api/admin-server/publicKey")},login:function(e){return c.a.post("/api/admin-server/login",e)},getAllProduct:function(e){return c.a.post("/api/admin-server/product/allproduct",e)},upload:function(e){return c.a.post("/api/admin-server/product/upload",e)},updateProduct:function(e){return c.a.post("/api/admin-server/product/update",e)},download:function(e){return c.a.post("/api/admin-server/product/download",e,{responseType:"blob"})}}},498:function(e,t,n){},828:function(e,t,n){"use strict";n.r(t);n(659);var a,r=n(691),o=n.n(r),c=(n(538),n(541)),i=n.n(c),s=(n(539),n(547)),u=n.n(s),d=(n(662),n(431)),l=n.n(d),p=(n(664),n(668)),m=n.n(p),f=n(126),g=n(127),v=n(130),b=n(128),h=n(129),w=n(1),y=n.n(w),k=n(448),E=(n(498),n(132)),L=Object(E.b)((function(e){return e.user}))(a=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(b.a)(t).call(this,e))).getAllProduct=function(e){k.a.getAllProduct(e).then((function(e){200===e.code&&n.setState({productList:e.data.list})}))},n.goEditProduct=function(e){n.props.history.push({pathname:"/productEdit",state:{param:e}})},n.download=function(e){var t=e.imgurl,a=t.slice(t.lastIndexOf("/")+1);n.setState({isLoading:!0}),k.a.download({imgurl:t}).then((function(e){n.setState({isLoading:!1});var t=new Blob([e]);if("download"in document.createElement("a")){var r=document.createElement("a");r.download=a,r.style.display="none",r.href=URL.createObjectURL(t),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r)}else navigator.msSaveBlob(t,a)}))},n.state={param:{page:1,current:5},productList:[],isLoading:!1},n}return Object(h.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.param;this.getAllProduct(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.productList,a=t.isLoading,r=m.a.Meta;return y.a.createElement("div",{className:"product"},y.a.createElement(i.a,{gutter:16},n.map((function(t,n){return y.a.createElement(u.a,{span:8,key:n},y.a.createElement(m.a,{bordered:!1,actions:[y.a.createElement(l.a,{type:"cloud-download",onClick:function(){return e.download(t)}})],cover:y.a.createElement("img",{alt:t.categrory,src:t.imgurl,style:{cursor:"pointer"},onClick:function(){return e.goEditProduct(t)}})},y.a.createElement(r,{title:t.name,description:t.description})))}))),y.a.createElement(o.a,{className:"loading",spinning:a}))}}]),t}(w.Component))||a;t.default=L}}]);
//# sourceMappingURL=10.786a6ff5.chunk.js.map